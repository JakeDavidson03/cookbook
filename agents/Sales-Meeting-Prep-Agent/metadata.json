{"metadata": {"name": "Demo Action", "description": "Atomic actions operating with Google Calendar.", "secrets": {"/api/actions/demo-action/create-event/run": {"actionPackage": "Demo Action", "action": "create_event", "secrets": {"google_credentials": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/calendar.events"], "description": "JSON containing Google OAuth2 credentials."}}}, "/api/actions/demo-action/list-events/run": {"actionPackage": "Demo Action", "action": "list_events", "secrets": {"google_credentials": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/calendar.readonly"], "description": "JSON containing Google OAuth2 credentials."}}}, "/api/actions/demo-action/list-calendars/run": {"actionPackage": "Demo Action", "action": "list_calendars", "secrets": {"google_credentials": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/calendar.readonly"], "description": "JSON containing Google OAuth2 credentials."}}}, "/api/actions/demo-action/update-event/run": {"actionPackage": "Demo Action", "action": "update_event", "secrets": {"google_credentials": {"type": "OAuth2Secret", "provider": "google", "scopes": ["https://www.googleapis.com/auth/calendar.events"], "description": "JSON containing Google OAuth2 credentials."}}}}, "version": 1}, "openapi.json": {"openapi": "3.1.0", "info": {"title": "Sema4.ai Action Server", "version": "0.14.0"}, "servers": [{"url": "http://localhost:8080"}], "paths": {"/api/actions/demo-action/write-to-json/run": {"post": {"summary": "Write To Json", "description": "Enables the action to write to a json file.", "operationId": "write_to_json", "requestBody": {"content": {"application/json": {"schema": {"properties": {"file_path": {"type": "string", "title": "File Path", "description": "Creates a new file."}, "data": {"type": "string", "title": "Data", "description": "The data to be written (as a string)."}}, "type": "object", "required": ["file_path", "data"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "boolean", "title": "Response for Write To Json", "description": "A boolean indication if the write worked"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/actions/demo-action/read-from-file/run": {"post": {"summary": "Read From File", "description": "Action to read from a file when given its file path.", "operationId": "read_from_file", "requestBody": {"content": {"application/json": {"schema": {"properties": {"file_path": {"type": "string", "title": "File Path", "description": "The file path which points to the file to read."}}, "type": "object", "required": ["file_path"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "string", "title": "Response for Read From File", "description": "A string that is the contents of the file."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/actions/demo-action/load-json/run": {"post": {"summary": "Load Json", "description": "Loads data from a JSON file from the given path.", "operationId": "load_json", "requestBody": {"content": {"application/json": {"schema": {"properties": {"file_path": {"type": "string", "title": "File Path", "description": "The file path pointing to the JSON file."}}, "type": "object", "required": ["file_path"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "string", "title": "Response for Load Json", "description": "A tring containing the contents of the JSON file."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/actions/demo-action/create-google-doc/run": {"post": {"summary": "Create Google Doc", "description": "Creates a Google Doc with the given title and content using the provided credentials.", "operationId": "create_google_doc", "requestBody": {"content": {"application/json": {"schema": {"properties": {"credentials_file": {"type": "string", "title": "Credentials File", "description": "The file containing the credentials to authenticate with the Google Docs API."}, "title": {"type": "string", "title": "Title", "description": "The title of the Google Doc."}, "content": {"type": "string", "title": "Content", "description": "The content to be added to the Google Doc."}}, "type": "object", "required": ["credentials_file", "title", "content"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "string", "title": "Response for Create Google Doc", "description": "The URL of the created Google Doc."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/actions/demo-action/upload-to-drive/run": {"post": {"summary": "Upload To Drive", "description": "Uploads a file to Google Drive using the provided credentials.", "operationId": "upload_to_drive", "requestBody": {"content": {"application/json": {"schema": {"properties": {"credentials_file": {"type": "string", "title": "Credentials File", "description": "The file containing the credentials to authenticate with the Google Drive API."}, "file_name": {"type": "string", "title": "File Name", "description": "The name to be given to the uploaded file on Google Drive."}, "file_path": {"type": "string", "title": "File Path", "description": "The path of the file to be uploaded."}, "mime_type": {"type": "string", "title": "Mime Type", "description": "The MIME type of the file being uploaded."}}, "type": "object", "required": ["credentials_file", "file_name", "file_path", "mime_type"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "string", "title": "Response for Upload To Drive", "description": "The URL of the uploaded file on Google Drive."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/actions/demo-action/create-event/run": {"post": {"summary": "Create Event", "description": "Creates a new event in the specified calendar.", "operationId": "create_event", "requestBody": {"content": {"application/json": {"schema": {"properties": {"event": {"properties": {"id": {"type": "string", "title": "Id", "description": "The id of the event."}, "summary": {"type": "string", "title": "Summary", "description": "A short summary of the event's purpose."}, "location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location", "description": "The physical location of the event."}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "A more detailed description of the event."}, "start": {"type": "string", "title": "Start", "description": "The (inclusive) start time of the event."}, "end": {"type": "string", "title": "End", "description": "The (exclusive) end time of the event."}, "recurrence": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Recurrence", "description": "A list of RRULE, EXRULE, RDATE, and EXDATE lines for a recurring event."}, "attendees": {"anyOf": [{"items": {"properties": {"email": {"type": "string", "title": "Email", "description": "The email address of the attendee."}, "displayName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Displayname", "description": "The display name of the attendee."}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional", "description": "Whether this is an optional attendee."}, "responseStatus": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Responsestatus", "description": "The response status of the attendee."}, "organizer": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Organizer", "description": "Whether the attendee is the organizer of the event."}}, "type": "object", "required": ["email"], "title": "Attendee"}, "type": "array"}, {"type": "null"}], "title": "Attendees", "description": "A list of attendees."}}, "type": "object", "required": ["id", "summary", "start", "end"], "title": "Event", "description": "JSON representation of the Google Calendar V3 event."}, "calendar_id": {"type": "string", "title": "Calendar Id", "description": "Calendar identifier which can be found by listing all calendars action.\nDefault value is \"primary\" which indicates the calendar where the user is currently logged in.", "default": "primary"}}, "type": "object", "required": ["event"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"id": {"type": "string", "title": "Id", "description": "The id of the event."}, "summary": {"type": "string", "title": "Summary", "description": "A short summary of the event's purpose."}, "location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location", "description": "The physical location of the event."}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "A more detailed description of the event."}, "start": {"type": "string", "title": "Start", "description": "The (inclusive) start time of the event."}, "end": {"type": "string", "title": "End", "description": "The (exclusive) end time of the event."}, "recurrence": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Recurrence", "description": "A list of RRULE, EXRULE, RDATE, and EXDATE lines for a recurring event."}, "attendees": {"anyOf": [{"items": {"properties": {"email": {"type": "string", "title": "Email", "description": "The email address of the attendee."}, "displayName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Displayname", "description": "The display name of the attendee."}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional", "description": "Whether this is an optional attendee."}, "responseStatus": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Responsestatus", "description": "The response status of the attendee."}, "organizer": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Organizer", "description": "Whether the attendee is the organizer of the event."}}, "type": "object", "required": ["email"], "title": "Attendee"}, "type": "array"}, {"type": "null"}], "title": "Attendees", "description": "A list of attendees."}}, "type": "object", "required": ["id", "summary", "start", "end"], "title": "Response for Create Event", "description": "The newly created event."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": true}}, "/api/actions/demo-action/list-events/run": {"post": {"summary": "List Events", "description": "List all events in the user's primary calendar between the given dates.\nTo aggregate all events across calendars, call this method for each calendar returned by list_calendars endpoint.", "operationId": "list_events", "requestBody": {"content": {"application/json": {"schema": {"properties": {"calendar_id": {"type": "string", "title": "Calendar Id", "description": "Calendar identifier which can be found by listing all calendars action.\nDefault value is \"primary\" which indicates the calendar where the user is currently logged in.", "default": "primary"}, "query": {"type": "string", "title": "Query", "description": "Free text search terms to find events that match these terms in summary, description, location,\nattendee's name / email or working location information.", "default": ""}, "start_date": {"type": "string", "title": "Start Date", "description": "Upper bound (exclusive) for an event's start time to filter by.\nMust be an RFC3339 timestamp with mandatory time zone offset.", "default": ""}, "end_date": {"type": "string", "title": "End Date", "description": "Lower bound (exclusive) for an event's end time to filter by.\nMust be an RFC3339 timestamp with mandatory time zone offset.", "default": ""}}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"events": {"items": {"properties": {"id": {"type": "string", "title": "Id", "description": "The id of the event."}, "summary": {"type": "string", "title": "Summary", "description": "A short summary of the event's purpose."}, "location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location", "description": "The physical location of the event."}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "A more detailed description of the event."}, "start": {"type": "string", "title": "Start", "description": "The (inclusive) start time of the event."}, "end": {"type": "string", "title": "End", "description": "The (exclusive) end time of the event."}, "recurrence": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Recurrence", "description": "A list of RRULE, EXRULE, RDATE, and EXDATE lines for a recurring event."}, "attendees": {"anyOf": [{"items": {"properties": {"email": {"type": "string", "title": "Email", "description": "The email address of the attendee."}, "displayName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Displayname", "description": "The display name of the attendee."}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional", "description": "Whether this is an optional attendee."}, "responseStatus": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Responsestatus", "description": "The response status of the attendee."}, "organizer": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Organizer", "description": "Whether the attendee is the organizer of the event."}}, "type": "object", "required": ["email"], "title": "Attendee"}, "type": "array"}, {"type": "null"}], "title": "Attendees", "description": "A list of attendees."}}, "type": "object", "required": ["id", "summary", "start", "end"], "title": "Event"}, "type": "array", "title": "Events"}}, "type": "object", "required": ["events"], "title": "EventList"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for List Events", "description": "A list of calendar events that match the query, if defined."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false}}, "/api/actions/demo-action/list-calendars/run": {"post": {"summary": "List Calendars", "description": "List all calendars that the user is subscribed to.", "operationId": "list_calendars", "requestBody": {"content": {"application/json": {"schema": {"properties": {}, "type": "object"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"calendars": {"items": {"properties": {"id": {"type": "string", "title": "Id", "description": "The id of the calendar."}, "summary": {"type": "string", "title": "Summary", "description": "The name or summary of the calendar."}, "timeZone": {"type": "string", "title": "Timezone", "description": "The timezone the calendar is set to, such as 'Europe/Bucharest'."}, "selected": {"type": "boolean", "title": "Selected", "description": "A boolean indicating if the calendar is selected by the user in their UI."}, "accessRole": {"type": "string", "title": "Accessrole", "description": "The access role of the user with respect to the calendar, e.g., 'owner'."}}, "type": "object", "required": ["id", "summary", "timeZone", "selected", "accessRole"], "title": "Calendar"}, "type": "array", "title": "Calendars"}}, "type": "object", "required": ["calendars"], "title": "CalendarList"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for List Calendars", "description": "A list of calendars."}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": false}}, "/api/actions/demo-action/update-event/run": {"post": {"summary": "Update Event", "description": "Update an existing Google Calendar event with dynamic arguments.", "operationId": "update_event", "requestBody": {"content": {"application/json": {"schema": {"properties": {"event_id": {"type": "string", "title": "Event Id", "description": "Identifier of the event to update. Can be found by listing events in all calendars."}, "updates": {"properties": {"summary": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Summary", "description": "A short summary of the event's purpose."}, "location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location", "description": "The physical location of the event."}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "A more detailed description of the event."}, "start": {"anyOf": [{"properties": {"dateTime": {"type": "string", "format": "date-time", "title": "Datetime", "description": "The start or end time of the event."}, "timeZone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Timezone", "description": "The time zone in which the time is specified, formatted as IANA Time Zone Database. For single events this field is optional."}}, "type": "object", "required": ["dateTime"], "title": "EventDateTime"}, {"type": "null"}], "description": "The (inclusive) start time of the event."}, "end": {"anyOf": [{"properties": {"dateTime": {"type": "string", "format": "date-time", "title": "Datetime", "description": "The start or end time of the event."}, "timeZone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Timezone", "description": "The time zone in which the time is specified, formatted as IANA Time Zone Database. For single events this field is optional."}}, "type": "object", "required": ["dateTime"], "title": "EventDateTime"}, {"type": "null"}], "description": "The (exclusive) end time of the event."}, "attendees": {"anyOf": [{"items": {"properties": {"email": {"type": "string", "title": "Email", "description": "The email address of the attendee."}, "displayName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Displayname", "description": "The display name of the attendee."}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional", "description": "Whether this is an optional attendee."}, "responseStatus": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Responsestatus", "description": "The response status of the attendee."}, "organizer": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Organizer", "description": "Whether the attendee is the organizer of the event."}}, "type": "object", "required": ["email"], "title": "Attendee"}, "type": "array"}, {"type": "null"}], "title": "Attendees", "description": "A list of attendees consisting in email and whether they are mandatory to participate or not."}}, "type": "object", "title": "Updates", "description": "A dictionary containing the event attributes to update.\nPossible keys include 'summary', 'description', 'start', 'end', and 'attendees'."}, "calendar_id": {"type": "string", "title": "Calendar Id", "description": "Identifier of the calendar where the event is.\nDefault value is \"primary\" which indicates the calendar where the user is currently logged in.", "default": "primary"}}, "type": "object", "required": ["event_id", "updates"]}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"properties": {"result": {"anyOf": [{"properties": {"id": {"type": "string", "title": "Id", "description": "The id of the event."}, "summary": {"type": "string", "title": "Summary", "description": "A short summary of the event's purpose."}, "location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Location", "description": "The physical location of the event."}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "A more detailed description of the event."}, "start": {"type": "string", "title": "Start", "description": "The (inclusive) start time of the event."}, "end": {"type": "string", "title": "End", "description": "The (exclusive) end time of the event."}, "recurrence": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Recurrence", "description": "A list of RRULE, EXRULE, RDATE, and EXDATE lines for a recurring event."}, "attendees": {"anyOf": [{"items": {"properties": {"email": {"type": "string", "title": "Email", "description": "The email address of the attendee."}, "displayName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Displayname", "description": "The display name of the attendee."}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional", "description": "Whether this is an optional attendee."}, "responseStatus": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Responsestatus", "description": "The response status of the attendee."}, "organizer": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Organizer", "description": "Whether the attendee is the organizer of the event."}}, "type": "object", "required": ["email"], "title": "Attendee"}, "type": "array"}, {"type": "null"}], "title": "Attendees", "description": "A list of attendees."}}, "type": "object", "required": ["id", "summary", "start", "end"], "title": "Event"}, {"type": "null"}], "description": "The result for the action if it ran successfully"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error", "description": "The error message if the action failed for some reason"}}, "type": "object", "title": "Response for Update Event"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "x-openai-isConsequential": true}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"errors": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Errors"}}, "type": "object", "title": "HTTPValidationError"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}}}}
